<!DOCTYPE html>
<html>
  <head>
    <title>Contact Page</title>
    <link href="../css/contact.css" rel="stylesheet">
  </head>
  <body>

    <!-- menu section including icons -->
    <section id="menu">
        <header>
          <nav>
            <div class="attribute-credit""><a href="https://www.flaticon.com/free-icons/user" title="user icons">User icons created by Freepik - Flaticon</a></div>
            <img src="../image/user.png" alt="user-profile icon">
            <a href="./home.html"><h3>Home</h3></a>
            <a href="./about.html"><h3>About</h3></a>
            <a href="./contact.html"><h3>Contact</h3></a>
          </nav>
        </header>
      </section>

    <section id="body">
      <div class="container">
        <!-- opening greetings -->
        <h1>Kindly fill this up<br>for inquiries.</h1>

      <main>
      <!-- form to send to operator's email -->
        <div class="form-container">
          <!-- <form action="./submit.hmtl" method="POST" id="contact-form"> -->
          <!-- Formspree for submitting the form -->
          <!-- <form action="https://formspree.io/f/xnnjepeb" method="POST"> -->
          <!-- EmailJS for submitting the form -->
          <form id="contact-form">
            <label for="name">First Name</label>
            <br>
            <input type="text" name="name" id="name" pattern="[a-zA-Z]+">
            <br>
            <label for="surname">Last Name</label>
            <br>
            <input type="text" name="surname" id="surname" required pattern="[a-zA-Z]+">
            <br>
            <label for="email">Email</label>
            <br>
            <input type="text" name="email" id="email" required>
            <br>
            <label for="message">Message</label>
            <br>
            <textarea name="message" id="message" rows="3" cols="15" required>
            </textarea>
            <br>
            <button type="submit">Submit</button>
          </form>
        </div>
      </div>
    </main>

    </section>

    <hr class="custom-line">
    
    <!-- EmailJS for submitting the form  -->
    <!-- EmailJS SDK from a CDN (Content Delivery Network)-->
    <script src="https://cdn.jsdelivr.net/npm/emailjs-com@2/dist/email.min.js"></script>
      <script>
        // Immediately Invoked Function Expression (IIFE)
        // Initialize EmailJS with the User ID
        (function() {
        emailjs.init("twiW0wxiSPtPt9dwL"); // EmailJS User ID
        })();

        // Attach event listener to the form
        document.getElementById("contact-form").addEventListener("submit", function(event) {
          // Prevents the form from submitting the traditional way (which would reload the page)
          event.preventDefault(); // Prevent dafault form submission

          // Send email using EmailJS
          // 'this' refers to the form element (contact-form) that triggered the event
          // it passes the form data to EmailJS
          emailjs.sendForm("service_exo1o3w", "template_2bz9tsp", this) // EmailJS Service and Template ID
            .then(function(response) {
              // Redirect to submit.html after successful submission
              window.location.href = "./submit.html"
            }, function(error) {
              // Show error message if email fails to send
              alert("Oops! Something went wrong.");
            });
        });
      </script>
  </body>
  
  <!-- contact information -->
  <footer>
    <header>
      <br>
      <div class="footer-container">
        <h3>Angeline Nicole Faina - 2024</h3>
          <div class="socials">
            <a href="https://www.linkedin.com/in/lynfaina/" target="_blank"><h3>Linkedin</h3></a>
            <a href="https://github.com/lynfaina" target="_blank"><h3>GitHub</h3></a>
            <a href="https://www.instagram.com/lynfaina/" target="_blank"><h3>Instagram</h3></a>
            <a href="https://x.com/mysticalyn" target="_blank"><h3>Twitter</h3></a>
          </div>
      </div>
    </header>
  </footer>
</html>